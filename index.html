<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exponent Labs Executive Summary</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
        .quote {
            background: #ecf0f1;
            border-left: 4px solid #e74c3c;
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
            border-radius: 0 5px 5px 0;
        }
        .example {
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        .implementation {
            background: #fff3cd;
            border-left: 4px solid #f39c12;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .framework-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .framework-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background: white;
        }
        .framework-card h4 {
            color: #3498db;
            margin-top: 0;
        }
        .nav-tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
        }
        .nav-tab {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            border-bottom: 2px solid transparent;
        }
        .nav-tab.active {
            border-bottom-color: #3498db;
            color: #3498db;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .search-box {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .highlight {
            background-color: yellow;
            padding: 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="title">Loading...</h1>
        
        <input type="text" class="search-box" placeholder="Search through the executive summary..." id="searchBox">
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('frameworks')">Theoretical Frameworks</button>
            <button class="nav-tab" onclick="showTab('thought-functions')">Thought Functions</button>
            <button class="nav-tab" onclick="showTab('implementations')">Software Implementations</button>
            <button class="nav-tab" onclick="showTab('insights')">Key Insights</button>
            <button class="nav-tab" onclick="showTab('achievements')">Technical Achievements</button>
            <button class="nav-tab" onclick="showTab('prototypes')">Live Prototypes</button>
            <button class="nav-tab" onclick="showTab('future')">Future Directions</button>
        </div>

        <div id="frameworks" class="tab-content active">
            <h2>Core Theoretical Frameworks</h2>
            <div id="frameworks-content"></div>
        </div>

        <div id="thought-functions" class="tab-content">
            <h2>Thought Functions and Prompts</h2>
            <div id="thought-functions-content"></div>
        </div>

        <div id="implementations" class="tab-content">
            <h2>Practical Software Implementations</h2>
            <div id="implementations-content"></div>
        </div>

        <div id="insights" class="tab-content">
            <h2>Key Insights and Lessons</h2>
            <div id="insights-content"></div>
        </div>

        <div id="achievements" class="tab-content">
            <h2>Technical Achievements</h2>
            <div id="achievements-content"></div>
        </div>

        <div id="prototypes" class="tab-content">
            <h2>Live Prototypes</h2>
            <div id="prototypes-content"></div>
        </div>

        <div id="future" class="tab-content">
            <h2>Future Directions</h2>
            <div id="future-content"></div>
        </div>
    </div>

    <script>
        let summaryData = null;

        // Load the JSON data
        fetch('executive_summary.json')
            .then(response => response.json())
            .then(data => {
                summaryData = data;
                document.getElementById('title').textContent = data.metadata.title;
                console.log('Loaded data structure:', data);
                debugDataStructure(data); // Check for undefined values
                renderAllTabs();
            })
            .catch(error => {
                console.error('Error loading data:', error);
                document.getElementById('title').textContent = 'Error Loading Data';
            });

        // Debug function to check for undefined values
        function debugDataStructure(data, path = '') {
            Object.entries(data).forEach(([key, value]) => {
                const currentPath = path ? `${path}.${key}` : key;
                if (value === undefined) {
                    console.warn(`UNDEFINED VALUE FOUND at: ${currentPath}`);
                } else if (typeof value === 'object' && value !== null) {
                    debugDataStructure(value, currentPath);
                }
            });
        }

        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function renderAllTabs() {
            if (!summaryData) {
                console.error('No data available for rendering');
                return;
            }
            try {
                renderFrameworks();
                renderThoughtFunctions();
                renderImplementations();
                renderInsights();
                renderAchievements();
                renderPrototypes();
                renderFuture();
            } catch (error) {
                console.error('Error rendering tabs:', error);
                document.getElementById('frameworks-content').innerHTML = '<p>Error rendering content. Check console for details.</p>';
            }
        }

        function renderFrameworks() {
            const content = document.getElementById('frameworks-content');
            const frameworks = summaryData.core_theoretical_frameworks;
            
            let html = '<div class="framework-grid">';
            
            Object.entries(frameworks).forEach(([key, framework]) => {
                if (key === 'logic_systems') {
                    // Handle nested logic systems structure
                    Object.entries(framework).forEach(([logicKey, logicFramework]) => {
                        html += `
                            <div class="framework-card">
                                <h4>${logicKey.replace(/_/g, ' ').toUpperCase()}</h4>
                                <p><strong>Description:</strong> ${logicFramework.description || 'No description available'}</p>
                                ${logicFramework.quote ? `<div class="quote"><strong>Quote:</strong> ${logicFramework.quote}</div>` : ''}
                                ${logicFramework.practical_application ? `<p><strong>Practical Application:</strong> ${logicFramework.practical_application}</p>` : ''}
                                ${logicFramework.specific_example ? `<div class="example"><strong>Example:</strong> ${logicFramework.specific_example}</div>` : ''}
                                ${logicFramework.implementation_quote ? `<div class="implementation"><strong>Implementation:</strong> ${logicFramework.implementation_quote}</div>` : ''}
                            </div>
                        `;
                    });
                } else {
                    // Handle other frameworks normally
                    html += `
                        <div class="framework-card">
                            <h4>${key.replace(/_/g, ' ').toUpperCase()}</h4>
                            <p><strong>Description:</strong> ${framework.description || 'No description available'}</p>
                            ${framework.quote ? `<div class="quote"><strong>Quote:</strong> ${framework.quote}</div>` : ''}
                            ${framework.practical_application ? `<p><strong>Practical Application:</strong> ${framework.practical_application}</p>` : ''}
                            ${framework.specific_example ? `<div class="example"><strong>Example:</strong> ${framework.specific_example}</div>` : ''}
                            ${framework.implementation_quote ? `<div class="implementation"><strong>Implementation:</strong> ${framework.implementation_quote}</div>` : ''}
                            ${framework.mathematical_goal ? `<div class="implementation"><strong>Mathematical Goal:</strong> ${framework.mathematical_goal}</div>` : ''}
                        </div>
                    `;
                }
            });
            
            html += '</div>';
            content.innerHTML = html;
        }

        function renderThoughtFunctions() {
            const content = document.getElementById('thought-functions-content');
            const thoughtFunctions = summaryData.thought_functions_and_prompts;
            
            let html = '';
            
            Object.entries(thoughtFunctions).forEach(([key, func]) => {
                html += `
                    <div class="section">
                        <h3>${key.replace(/_/g, ' ').toUpperCase()}</h3>
                        ${func.principle ? `<p><strong>Principle:</strong> ${func.principle}</p>` : ''}
                        ${func.quote ? `<div class="quote"><strong>Quote:</strong> ${func.quote}</div>` : ''}
                        ${func.practical_application ? `<p><strong>Practical Application:</strong> ${func.practical_application}</p>` : ''}
                        ${func.examples ? `
                            <div class="example">
                                <strong>Examples:</strong>
                                <ul>${func.examples.map(ex => `<li>${ex || 'No example available'}</li>`).join('')}</ul>
                            </div>
                        ` : ''}
                        ${func.implementation_quote ? `<div class="implementation"><strong>Implementation:</strong> ${func.implementation_quote}</div>` : ''}
                        ${func.benefit ? `<p><strong>Benefit:</strong> ${func.benefit}</p>` : ''}
                        ${func.structure ? `
                            <div class="example">
                                <strong>Structure:</strong>
                                <ol>${func.structure.map(item => `<li>${item || 'No item available'}</li>`).join('')}</ol>
                            </div>
                        ` : ''}
                        ${func.market_forces_quote ? `<div class="quote"><strong>Market Forces:</strong> ${func.market_forces_quote}</div>` : ''}
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        function renderImplementations() {
            const content = document.getElementById('implementations-content');
            const implementations = summaryData.practical_software_implementations;
            
            let html = '';
            
            Object.entries(implementations).forEach(([key, impl]) => {
                html += `
                    <div class="section">
                        <h3>${key.replace(/_/g, ' ').toUpperCase()}</h3>
                        ${impl.purpose ? `<p><strong>Purpose:</strong> ${impl.purpose}</p>` : ''}
                        ${impl.approach ? `<p><strong>Approach:</strong> ${impl.approach}</p>` : ''}
                        ${impl.quote ? `<div class="quote"><strong>Quote:</strong> ${impl.quote}</div>` : ''}
                        ${impl.implementation ? `<p><strong>Implementation:</strong> ${impl.implementation}</p>` : ''}
                        ${impl.example ? `<div class="example"><strong>Example:</strong> ${impl.example}</div>` : ''}
                        ${impl.implementation_quote ? `<div class="implementation"><strong>Implementation Quote:</strong> ${impl.implementation_quote}</div>` : ''}
                        ${impl.structure ? `
                            <div class="example">
                                <strong>Structure:</strong>
                                <ul>${impl.structure.map(item => `<li>${item || 'No item available'}</li>`).join('')}</ul>
                            </div>
                        ` : ''}
                        ${impl.design_principles ? `<p><strong>Design Principles:</strong> ${impl.design_principles}</p>` : ''}
                        ${impl.tools ? `<p><strong>Tools:</strong> ${impl.tools}</p>` : ''}
                        ${impl.principle ? `<p><strong>Principle:</strong> ${impl.principle}</p>` : ''}
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        function renderInsights() {
            const content = document.getElementById('insights-content');
            const insights = summaryData.key_insights_and_lessons;
            
            let html = '';
            
            Object.entries(insights).forEach(([key, insight]) => {
                html += `
                    <div class="section">
                        <h3>${key.replace(/_/g, ' ').toUpperCase()}</h3>
                        ${Object.entries(insight).map(([subKey, subInsight]) => {
                            if (typeof subInsight === 'string' && !subInsight.includes('quote')) {
                                return `<p><strong>${subKey.replace(/_/g, ' ').toUpperCase()}:</strong> ${subInsight}</p>`;
                            } else if (subInsight.quote) {
                                return `<div class="quote"><strong>${subKey.replace(/_/g, ' ').toUpperCase()}:</strong> ${subInsight.quote}</div>`;
                            }
                            return '';
                        }).join('')}
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        function renderAchievements() {
            const content = document.getElementById('achievements-content');
            const achievements = summaryData.technical_achievements;
            
            let html = '';
            
            Object.entries(achievements).forEach(([key, achievement]) => {
                html += `
                    <div class="section">
                        <h3>${key.replace(/_/g, ' ').toUpperCase()}</h3>
                        ${achievement.project ? `<p><strong>Project:</strong> ${achievement.project}</p>` : ''}
                        ${achievement.quote ? `<div class="quote"><strong>Quote:</strong> ${achievement.quote}</div>` : ''}
                        ${achievement.learning_outcome ? `<p><strong>Learning Outcome:</strong> ${achievement.learning_outcome}</p>` : ''}
                        ${achievement.time_to_deploy ? `<p><strong>Time to Deploy:</strong> ${achievement.time_to_deploy}</p>` : ''}
                        ${achievement.implementation_quote ? `<div class="implementation"><strong>Implementation:</strong> ${achievement.implementation_quote}</div>` : ''}
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        function renderPrototypes() {
            const content = document.getElementById('prototypes-content');
            const heroData = summaryData.hero_banner_and_prototypes;
            
            if (!heroData) {
                content.innerHTML = '<p>No prototype data available.</p>';
                return;
            }
            
            let html = `
                <div class="section">
                    <h3>${heroData.title}</h3>
                    <p><strong>Description:</strong> ${heroData.description}</p>
                </div>
            `;
            
            // Render prototypes
            if (heroData.prototypes) {
                html += '<h3>Live Prototypes</h3>';
                heroData.prototypes.forEach((prototype, index) => {
                    html += `
                        <div class="section">
                            <h4>${prototype.name}</h4>
                            <p><strong>Platform:</strong> ${prototype.platform}</p>
                            <p><strong>Description:</strong> ${prototype.description}</p>
                            <p><strong>URL:</strong> <a href="${prototype.url}" target="_blank" style="color: #3498db; text-decoration: none;">${prototype.url}</a></p>
                            ${prototype.features ? `
                                <div class="example">
                                    <strong>Features:</strong>
                                    <ul>${prototype.features.map(feature => `<li>${feature}</li>`).join('')}</ul>
                                </div>
                            ` : ''}
                            ${prototype.creation_time ? `<p><strong>Creation Time:</strong> ${prototype.creation_time}</p>` : ''}
                            ${prototype.deployment_method ? `<p><strong>Deployment Method:</strong> ${prototype.deployment_method}</p>` : ''}
                            ${prototype.quote ? `<div class="quote"><strong>Quote:</strong> ${prototype.quote}</div>` : ''}
                        </div>
                    `;
                });
            }
            
            // Render methodology
            if (heroData.methodology) {
                html += `
                    <div class="section">
                        <h3>Methodology</h3>
                        <p><strong>Dual Approach:</strong> ${heroData.methodology.dual_approach}</p>
                        <p><strong>Rapid Iteration:</strong> ${heroData.methodology.rapid_iteration}</p>
                        <p><strong>Deployment Strategy:</strong> ${heroData.methodology.deployment_strategy}</p>
                        ${heroData.methodology.quote ? `<div class="quote"><strong>Quote:</strong> ${heroData.methodology.quote}</div>` : ''}
                    </div>
                `;
            }
            
            // Render technical achievements
            if (heroData.technical_achievements) {
                html += `
                    <div class="section">
                        <h3>Technical Achievements</h3>
                        <p><strong>Time to Prototype:</strong> ${heroData.technical_achievements.time_to_prototype}</p>
                        <p><strong>Platforms Used:</strong> ${heroData.technical_achievements.platforms_used.join(', ')}</p>
                        <p><strong>Technologies:</strong> ${heroData.technical_achievements.technologies.join(', ')}</p>
                        <p><strong>Deployment Speed:</strong> ${heroData.technical_achievements.deployment_speed}</p>
                    </div>
                `;
            }
            
            content.innerHTML = html;
        }

        function renderFuture() {
            const content = document.getElementById('future-content');
            const future = summaryData.future_directions;
            
            let html = '';
            
            Object.entries(future).forEach(([key, direction]) => {
                html += `
                    <div class="section">
                        <h3>${key.replace(/_/g, ' ').toUpperCase()}</h3>
                        ${Object.entries(direction).map(([subKey, subDirection]) => {
                            if (typeof subDirection === 'string' && !subDirection.includes('quote')) {
                                return `<p><strong>${subKey.replace(/_/g, ' ').toUpperCase()}:</strong> ${subDirection}</p>`;
                            } else if (subDirection.quote) {
                                return `<div class="quote"><strong>${subKey.replace(/_/g, ' ').toUpperCase()}:</strong> ${subDirection.quote}</div>`;
                            }
                            return '';
                        }).join('')}
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        // Search functionality
        document.getElementById('searchBox').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            if (searchTerm.length < 2) {
                removeHighlights();
                return;
            }
            
            searchAndHighlight(searchTerm);
        });

        function searchAndHighlight(searchTerm) {
            removeHighlights();
            
            const textNodes = document.evaluate(
                "//text()[normalize-space(.)!='']",
                document,
                null,
                XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,
                null
            );
            
            for (let i = 0; i < textNodes.snapshotLength; i++) {
                const node = textNodes.snapshotItem(i);
                const text = node.textContent;
                if (text.toLowerCase().includes(searchTerm)) {
                    const span = document.createElement('span');
                    span.className = 'highlight';
                    span.textContent = text;
                    node.parentNode.replaceChild(span, node);
                }
            }
        }

        function removeHighlights() {
            const highlights = document.querySelectorAll('.highlight');
            highlights.forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
        }
    </script>
</body>
</html>
